"use strict";function isTest(){return isUserName()&&isPass()}function isUserName(){if(""==$("#username").val())return!1;return!!/^1[3456789]\d{9}$/.test($("#username").val())}function isPass(){if(""==$("#userpass").val())return!1;return!!/^\d{6,16}$/.test($("#userpass").val())}var hasUser=!1;function hasUserBack(){$.get("checkUser.php",{username:$("#username").val()},function(s){hasUser="0"==s?($("#showUser").html("该手机号已被注册！"),$("#showUser").css({color:"red"}),!0):($("#showUser").html("该手机号可以使用"),$("#showUser").css({color:"green"}),!1)})}$(function(){$("#username").blur(function(){return 0==isUserName()?($("#showUser").html("手机号的格式不正确！"),void $("#showUser").css({color:"orange"})):($("#showPass").html("√"),void hasUserBack())}),$("#userpass").blur(function(){0!=isPass()?$("#showPass").html("√"):$("#showPass").html("密码格式不正确\t！")}),$("#btnReg").click(function(){0!=isTest()?hasUser||$.post("addUser.php",{username:$("#username").val(),userpass:$("#userpass").val()},function(s){"success"==s?($("#messageBox").css({color:"green"}),$("#messageBox").html("恭喜您，注册成功！2秒后跳转到<a href='login.html'>登录</a>页面"),setTimeout(function(){location.href="login.html"},2e3)):"fail"==s?($("#messageBox").css({color:"red"}),$("#messageBox").html("不好意思，注册失败!")):($("#messageBox").css({color:"red"}),$("#messageBox").html("服务器出错!"))}):$("#messageBox").html("您的信息输入不全")})});